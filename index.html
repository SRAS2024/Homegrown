<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Homegrown • Nursery Shop</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      :root { --green:#2e7d32; --green2:#43a047; --ink:#0f172a; --muted:#64748b; --bg:#f0fdf4; --card:#ffffff; }
      *{box-sizing:border-box}
      body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";color:var(--ink);background:var(--bg)}
      .container{max-width:1100px;margin:0 auto;padding:0 16px}
      .header{position:sticky;top:0;z-index:10;background:var(--green);color:#fff;box-shadow:0 2px 6px rgba(0,0,0,.12)}
      .header-inner{display:flex;align-items:center;justify-content:space-between;padding:10px 16px}
      .brand{display:flex;align-items:center;gap:10px;cursor:pointer}
      .logo{width:34px;height:34px;border-radius:50%;background:#fff;color:var(--green);display:grid;place-items:center;font-weight:800}
      .sub{font-size:12px;opacity:.9;margin-top:-2px}
      .cart-btn{position:relative;border:0;background:transparent;color:#fff;cursor:pointer;padding:6px;border-radius:999px}
      .badge{position:absolute;right:-4px;top:-4px;background:#fff;color:var(--green);font-weight:700;font-size:12px;padding:2px 6px;border-radius:999px;box-shadow:0 1px 2px rgba(0,0,0,.2);min-width:22px;text-align:center}
      .hero{min-height:70vh;display:grid;place-items:center;background:url("https://images.unsplash.com/photo-1501004318641-b39e6451bec6?q=80&w=1600&auto=format&fit=crop") center/cover no-repeat}
      .hero-card{background:rgba(0,0,0,.55);color:#fff;border-radius:16px;padding:28px}
      .btn{display:inline-block;padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
      .btn-primary{background:var(--green2);color:#000}
      .btn-ghost{background:#fff;color:var(--ink)}
      .section{padding:28px 0}
      .grid{display:grid;gap:16px}
      @media (min-width:640px){.grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}}
      .card{background:var(--card);border:1px solid #e2e8f0;border-radius:16px;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.06)}
      .media{height:150px;border-bottom:1px solid #e2e8f0;background:#eef7ee}
      .media svg{width:100%;height:100%;display:block}
      .card-body{padding:14px}
      .muted{color:var(--muted)}
      .toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:var(--green);color:#fff;padding:10px 14px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,.2)}
      .row{display:flex;align-items:center;gap:12px;padding:12px 0;border-bottom:1px solid #e2e8f0}
      .thumb{width:64px;height:64px;border-radius:8px;overflow:hidden;background:#eef7ee}
      .thumb svg{width:100%;height:100%;display:block}
      .qty-btn{width:28px;height:28px;border-radius:999px;border:0;background:#edf2f7;cursor:pointer;font-size:18px}
      .right{text-align:right}
      .totals{display:flex;justify-content:end;padding-top:12px;font-weight:700}
      .tags{display:flex;gap:6px;margin:8px 0 0 0;flex-wrap:wrap}
      .tag{font-size:11px;background:#e8f5e9;color:#1b5e20;border:1px solid #c8e6c9;border-radius:999px;padding:2px 8px}
    </style>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useMemo, useEffect } = React;

      // Color themes per plant
      const THEME = {
        snake:     ["#c7f9cc","#80ed99","#22543d"],
        spider:    ["#e2e8f0","#cbd5e1","#334155"],
        peace:     ["#d1fae5","#a7f3d0","#065f46"],
        aloe:      ["#cffafe","#a5f3fc","#155e75"],
        rubber:    ["#fee2e2","#fecaca","#7f1d1d"],
        boston:    ["#ede9fe","#c4b5fd","#5b21b6"],
        ivy:       ["#fef3c7","#fde68a","#92400e"],
        pothos:    ["#f0abfc","#e879f9","#6b21a8"],
        monstera:  ["#bae6fd","#7dd3fc","#075985"],
        rosemary:  ["#fde68a","#fcd34d","#92400e"],
        lavender:  ["#f3e8ff","#e9d5ff","#6b21a8"],
        mint:      ["#ccfbf1","#99f6e4","#115e59"]
      };

      // Reusable pot
      function Pot({ ink }) {
        return (
          <g>
            <rect x="90" y="108" width="140" height="54" rx="12" fill="#c2793b" />
            <rect x="70" y="96" width="180" height="20" rx="10" fill="#e19a5c" />
            <rect x="70" y="96" width="180" height="7" rx="4" fill="#f3b980" />
            <ellipse cx="160" cy="162" rx="70" ry="10" fill="rgba(0,0,0,.08)" />
          </g>
        );
      }

      // Simple leaf helpers
      function Leaf({ x, y, w, h, r=0, fill }) {
        return <ellipse cx={x} cy={y} rx={w} ry={h} transform={`rotate(${r} ${x} ${y})`} fill={fill} />;
      }
      function HeartLeaf({ x, y, s=1, fill }) {
        const d = `
          M ${x} ${y}
          c ${-18*s} ${-18*s}, ${-40*s} ${10*s}, 0 ${40*s}
          c ${40*s} ${-30*s}, ${18*s} ${-58*s}, 0 ${-40*s} z`;
        return <path d={d} fill={fill} />;
      }

      // Plant drawings
      const PlantDraw = {
        snake: (ink) => (
          <g>
            {[0,-18,18,-36,36].map((dx,i)=>(
              <path key={i} d={`M ${160+dx} 100 Q ${160+dx-20} 40 ${160+dx-8} 10 Q ${160+dx+10} 45 ${160+dx} 100 Z`} fill="#2e7d32"/>
            ))}
            <Pot ink={ink}/>
          </g>
        ),
        spider: (ink)=>(
          <g>
            {[ -80,-60,-40,-20,0,20,40,60,80 ].map((dx,i)=>(
              <path key={i} d={`M 160 100 Q ${160+dx} 80 ${160+dx} 30`} stroke="#2e8b57" strokeWidth="6" fill="none" />
            ))}
            <circle cx="160" cy="98" r="10" fill="#2e8b57"/>
            <Pot ink={ink}/>
          </g>
        ),
        peace: (ink)=>(
          <g>
            <Leaf x={140} y={70} w={18} h={36} r={-25} fill="#227a3a"/>
            <Leaf x={180} y={70} w={18} h={36} r={25} fill="#227a3a"/>
            <path d="M160 30 c 20 30 20 60 0 70 c -20 -10 -20 -40 0 -70 z" fill="#fff"/>
            <rect x="158" y="48" width="4" height="20" rx="2" fill="#facc15"/>
            <Pot ink={ink}/>
          </g>
        ),
        aloe: (ink)=>(
          <g>
            {[ -40,-20,0,20,40 ].map((dx,i)=>(
              <path key={i} d={`M ${160+dx} 100 L ${160+dx-15} 55 L ${160+dx+5} 20 L ${160+dx+15} 55 Z`} fill="#1f9d68"/>
            ))}
            <Pot ink={ink}/>
          </g>
        ),
        rubber: (ink)=>(
          <g>
            {[ -30,-10,10,30 ].map((dx,i)=>(
              <Leaf key={i} x={160+dx} y={60} w={18} h={35} r={dx*1.2} fill="#2f6c4f"/>
            ))}
            {[ -30,-10,10,30 ].map((dx,i)=>(
              <rect key={'v'+i} x={159+dx} y={45} width="2" height="30" fill="#103b2a"/>
            ))}
            <Pot ink={ink}/>
          </g>
        ),
        boston: (ink)=>(
          <g>
            {[ -50,-25,0,25,50 ].map((dx,i)=>(
              <g key={i}>
                <path d={`M ${160+dx} 100 Q ${160+dx-15} 70 ${160+dx-25} 45`} stroke="#2e7d32" strokeWidth="3" fill="none"/>
                {Array.from({length:8}).map((_,j)=>(
                  <rect key={j} x={160+dx-30-(j*2)} y={58-j*6} width="14" height="4" rx="2" fill="#46a05b"/>
                ))}
              </g>
            ))}
            <Pot ink={ink}/>
          </g>
        ),
        ivy: (ink)=>(
          <g>
            <path d="M 160 90 C 200 100, 240 120, 300 150" stroke="#2e7d32" strokeWidth="4" fill="none"/>
            <path d="M 160 90 C 120 100, 80 120, 20 150" stroke="#2e7d32" strokeWidth="4" fill="none"/>
            {[ 210,240,270,90,60,30 ].map((x,i)=>(
              <path key={i} d={`M ${x} ${140 - (i%3)*10} l 8 -14 l 8 14 l -16 0 z`} fill="#2e7d32"/>
            ))}
            <Pot ink={ink}/>
          </g>
        ),
        pothos: (ink)=>(
          <g>
            <path d="M 160 92 C 210 120, 240 140, 290 158" stroke="#178f4d" strokeWidth="4" fill="none"/>
            <path d="M 160 92 C 110 120, 80 140, 30 158" stroke="#178f4d" strokeWidth="4" fill="none"/>
            {[200,225,250,85,60,45].map((x,i)=>(
              <HeartLeaf key={i} x={x} y={135-(i%3)*6} s={.5} fill="#30a46c"/>
            ))}
            <Pot ink={ink}/>
          </g>
        ),
        monstera: (ink)=>(
          <g>
            <path d="M130 80 c 0 -35 60 -50 60 0 c 0 40 -60 40 -60 0 z" fill="#1f7a4f"/>
            <rect x="158" y="60" width="4" height="30" fill="#0b4430"/>
            <path d="M190 80 c 0 -35 60 -50 60 0 c 0 40 -60 40 -60 0 z" fill="#1f7a4f"/>
            <rect x="218" y="60" width="4" height="30" fill="#0b4430"/>
            <path d="M150 78 l 10 -6 M145 90 l 14 -4 M205 78 l 10 -6 M200 90 l 14 -4" stroke="#0b4430" strokeWidth="3"/>
            <Pot ink={ink}/>
          </g>
        ),
        rosemary: (ink)=>(
          <g>
            {[-30,-20,-10,0,10,20,30].map((dx,i)=>(
              <g key={i}>
                <rect x={158+dx} y="70" width="3" height="30" fill="#14532d"/>
                {Array.from({length:6}).map((_,j)=>(
                  <rect key={j} x={150+dx} y={72+j*5} width="10" height="2" fill="#2f855a"/>
                ))}
              </g>
            ))}
            <Pot ink={ink}/>
          </g>
        ),
        lavender: (ink)=>(
          <g>
            {[-25,-10,10,25].map((dx,i)=>(
              <g key={i}>
                <rect x={159+dx} y="78" width="2" height="32" fill="#25664a"/>
                {Array.from({length:6}).map((_,j)=>(
                  <circle key={j} cx={160+dx} cy={80-j*5} r="4" fill="#8b5cf6"/>
                ))}
              </g>
            ))}
            <Pot ink={ink}/>
          </g>
        ),
        mint: (ink)=>(
          <g>
            <Leaf x={150} y={75} w={18} h={12} r={-20} fill="#2ecc71"/>
            <Leaf x={170} y={75} w={18} h={12} r={20} fill="#2ecc71"/>
            <Leaf x={160} y={60} w={14} h={10} r={0} fill="#28b463"/>
            <Pot ink={ink}/>
          </g>
        )
      };

      function PlantSVG({ id, name }) {
        const [c1,c2,ink] = THEME[id] || ["#e2e8f0","#cbd5e1","#334155"];
        return (
          <svg viewBox="0 0 320 180" role="img" aria-label={name}>
            <defs>
              <linearGradient id={`g-${id}`} x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stopColor={c1}/>
                <stop offset="100%" stopColor={c2}/>
              </linearGradient>
            </defs>
            <rect width="320" height="180" fill={`url(#g-${id})`} />
            <g opacity=".12" fill={ink}>
              <circle cx="280" cy="40" r="22" />
              <path d="M20 40 C 70 15, 130 15, 180 40 C 130 46, 70 46, 20 40 Z" />
            </g>
            <g>{PlantDraw[id] ? PlantDraw[id](ink) : null}</g>
            <text x="50%" y="38" textAnchor="middle" fontWeight="800" fontSize="16" fill={ink}>{name}</text>
          </svg>
        );
      }

      // Products. Peace Lily carries both tags but will render under the first section only.
      const PRODUCTS = [
        { id:"snake",    name:"Snake Plant",   price:15, desc:"Produces oxygen at night, improving air quality.", category:["Air Purifying"] },
        { id:"spider",   name:"Spider Plant",  price:12, desc:"Filters formaldehyde and xylene from the air.",     category:["Air Purifying"] },
        { id:"peace",    name:"Peace Lily",    price:18, desc:"Removes mold spores and purifies the air.",         category:["Air Purifying","Aromatic"] },
        { id:"aloe",     name:"Aloe Vera",     price:10, desc:"Succulent that soothes skin and brightens a room.", category:["Air Purifying"] },
        { id:"rubber",   name:"Rubber Plant",  price:16, desc:"Glossy leaves and strong air filtering.",            category:["Air Purifying"] },
        { id:"boston",   name:"Boston Fern",   price:14, desc:"Classic fronds that love humidity.",                 category:["Air Purifying"] },
        { id:"ivy",      name:"English Ivy",   price:11, desc:"Trailing vine known for filtering air.",             category:["Air Purifying"] },
        { id:"pothos",   name:"Pothos",        price:12, desc:"Beginner friendly vine, also called Devil's Ivy.",   category:["Air Purifying"] },
        { id:"monstera", name:"Monstera",      price:20, desc:"Iconic split leaves, bright indirect light.",        category:["Air Purifying"] },
        { id:"rosemary", name:"Rosemary",      price:15, desc:"Fragrant culinary herb with evergreen texture.",     category:["Aromatic"] },
        { id:"lavender", name:"Lavender",      price:17, desc:"Soothing scent with purple blooms.",                 category:["Aromatic"] },
        { id:"mint",     name:"Mint",          price:9,  desc:"Fresh aroma for tea and cooking.",                   category:["Aromatic"] }
      ];

      const CATEGORIES = ["Air Purifying","Aromatic"];
      const money = n => `$${n.toFixed(2)}`;

      function Header({ onLogo, onCart, count }) {
        return (
          <div className="header">
            <div className="header-inner container">
              <div className="brand" onClick={onLogo} role="button" aria-label="Go to landing">
                <div className="logo">HG</div>
                <div>
                  <div style={{fontWeight:800,lineHeight:1}}>Homegrown</div>
                  <div className="sub">Where green meets serenity</div>
                </div>
              </div>
              <button className="cart-btn" onClick={onCart} aria-label="Open cart">
                <svg width="26" height="26" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                  <path d="M7 18a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm10 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM3 2h2l3.6 7.59-1.35 2.45A2 2 0 0 0 9 15h9a2 2 0 0 0 1.79-1.11l3.58-7.16A1 1 0 0 0 22.5 5H6.21l-1-2H3Z"/>
                </svg>
                {count > 0 && <span className="badge">{count}</span>}
              </button>
            </div>
          </div>
        );
      }

      function Toast({ msg, onDone }) {
        useEffect(() => {
          if (!msg) return;
          const t = setTimeout(onDone, 1400);
          return () => clearTimeout(t);
        }, [msg, onDone]);
        if (!msg) return null;
        return <div className="toast">{msg}</div>;
      }

      function Landing({ onStart }) {
        return (
          <section className="hero">
            <div className="container">
              <div className="hero-card">
                <h1 style={{margin:0}}>Welcome to Homegrown</h1>
                <div className="sub" style={{color:"#d1fae5"}}>Where green meets serenity</div>
                <p style={{maxWidth:740}}>
                  Our mission is to bring nature closer to you. We offer a wide range of high quality plants that enhance your space and support a healthy lifestyle.
                </p>
                <button className="btn btn-primary" onClick={onStart}>Get started</button>
              </div>
            </div>
          </section>
        );
      }

      function ProductCard({ p, onAdd }) {
        // Show extra tags that are not the section label the card was rendered under
        return (
          <div className="card">
            <div className="media">
              <PlantSVG id={p.id} name={p.name} />
            </div>
            <div className="card-body">
              <div style={{display:"flex",justifyContent:"space-between",gap:8}}>
                <strong>{p.name}</strong>
                <strong style={{color:"var(--green)"}}>{money(p.price)}</strong>
              </div>
              <p className="muted" style={{marginTop:6}}>{p.desc}</p>
              {p.category.length > 1 && (
                <div className="tags">
                  {p.category.slice(1).map(tag => <span key={tag} className="tag">{tag}</span>)}
                </div>
              )}
              <button className="btn btn-primary" style={{marginTop:10}} onClick={() => onAdd(p)}>Add to cart</button>
            </div>
          </div>
        );
      }

      function Products({ toLanding, toCart, add, count }) {
        // Ensure each product renders once across the whole page
        const seen = new Set();
        return (
          <>
            <Header onLogo={toLanding} onCart={toCart} count={count} />
            <main className="container section">
              {CATEGORIES.map(cat => (
                <section key={cat} className="section" style={{paddingTop:0}}>
                  <h2 style={{margin:"0 0 12px 0"}}>{cat} Plants</h2>
                  <div className="grid grid-3">
                    {PRODUCTS.filter(p => p.category.includes(cat))
                      .filter(p => { if (seen.has(p.id)) return false; seen.add(p.id); return true; })
                      .map(p => (<ProductCard key={p.id} p={p} onAdd={add} />))}
                  </div>
                </section>
              ))}
            </main>
          </>
        );
      }

      function CartRow({ item, onDec, onInc, onRemove }) {
        const line = item.product.price * item.qty;
        return (
          <div className="row">
            <div className="thumb">
              <PlantSVG id={item.product.id} name={item.product.name} />
            </div>
            <div style={{flex:1}}>
              <div><strong>{item.product.name}</strong></div>
              <div className="muted">{money(item.product.price)} each</div>
            </div>
            <div>
              <button className="qty-btn" onClick={onDec} aria-label={`Decrease ${item.product.name}`}>−</button>
              <span style={{display:"inline-block",width:60,textAlign:"center"}}>Qty. {item.qty}</span>
              <button className="qty-btn" onClick={onInc} aria-label={`Increase ${item.product.name}`}>+</button>
            </div>
            <div className="right" style={{width:110,fontWeight:700}}>{money(line)}</div>
            <button className="btn btn-ghost" onClick={onRemove}>Delete</button>
          </div>
        );
      }

      function Cart({ toProducts, items, inc, dec, remove }) {
        const total = items.reduce((s, it) => s + it.qty * it.product.price, 0);
        const count = items.reduce((s, it) => s + it.qty, 0);
        return (
          <>
            <Header onLogo={toProducts} onCart={() => {}} count={count} />
            <main className="container section">
              <h2>Shopping cart</h2>
              {items.length === 0 ? (
                <p className="muted">Your cart is empty.</p>
              ) : (
                <div className="card" style={{padding:16}}>
                  {items.map(it => (
                    <CartRow
                      key={it.product.id}
                      item={it}
                      onInc={() => inc(it.product.id)}
                      onDec={() => dec(it.product.id)}
                      onRemove={() => remove(it.product.id)}
                    />
                  ))}
                  <div className="totals">Total cart amount: {money(total)}</div>
                  <div style={{display:"flex",justifyContent:"end",gap:10,marginTop:12}}>
                    <button className="btn btn-ghost" onClick={toProducts}>Continue shopping</button>
                    <button className="btn btn-primary">Checkout</button>
                  </div>
                </div>
              )}
            </main>
          </>
        );
      }

      function App() {
        const [screen, setScreen] = useState("landing");
        const [toast, setToast] = useState("");
        const [cart, setCart] = useState({});

        const items = useMemo(
          () => Object.entries(cart).map(([id, qty]) => ({ product: PRODUCTS.find(p => p.id === id), qty })),
          [cart]
        );
        const count = items.reduce((s, it) => s + it.qty, 0);

        const add = (p) => {
          setCart(prev => ({ ...prev, [p.id]: (prev[p.id] || 0) + 1 }));
          setToast(`${p.name} Added to Cart`);
        };
        const inc = id => setCart(prev => ({ ...prev, [id]: (prev[id] || 0) + 1 }));
        const dec = id => setCart(prev => {
          const n = (prev[id] || 0) - 1;
          const next = { ...prev };
          if (n > 0) next[id] = n; else delete next[id];
          return next;
        });
        const remove = id => setCart(prev => { const next = { ...prev }; delete next[id]; return next; });

        return (
          <>
            {screen === "landing" && <Landing onStart={() => setScreen("products")} />}
            {screen === "products" && (
              <Products
                toLanding={() => setScreen("landing")}
                toCart={() => setScreen("cart")}
                add={add}
                count={count}
              />
            )}
            {screen === "cart" && (
              <Cart
                toProducts={() => setScreen("products")}
                items={items}
                inc={inc}
                dec={dec}
                remove={remove}
              />
            )}
            <Toast msg={toast} onDone={() => setToast("")} />
          </>
        );
      }

      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
